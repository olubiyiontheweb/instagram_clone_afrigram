<%= link_to post_path(post) do %>
<% if post.images.size == 1 %>
<% if post.images.attached? %>
<% #post.images.each do |image| %>
<%= image_tag url_for(post.images.first.variant(resize_to_limit: [1080, 1080])), class: "card-img-top" %>
<% #end %>
<% end %>
<% else %>
<div id="carousel-post" class="carousel slide" data-ride="carousel"><%= post.id %>
    <div class="carousel-inner">
        <% post.images.each do |image| %>
        <% if image == post.images.first %>
        <div class="carousel-item active">
            <% else %>
            <div class="carousel-item">
                <% end %>
                <%= image_tag url_for(image.variant(resize_to_limit: [1080, 1080])), class: "card-img-top" %>
            </div>
            <% end %>
        </div>
        <a class="carousel-control-prev" href="#carousel-post-<%= post.id %>" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carousel-post-<%= post.id %>" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <% end %>
    <% end %>